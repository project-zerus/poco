cc_library(
  name = 'Foundation',
  warning = 'no',
  export_incs = './include',
  defs = [
    'POCO_UNBUNDLED',
    'POCO_HAVE_FD_EPOLL',
  ],
  srcs = [
    'src/AbstractObserver.cpp',
    'src/ActiveDispatcher.cpp',
    'src/ArchiveStrategy.cpp',
    'src/Ascii.cpp',
    'src/ASCIIEncoding.cpp',
    'src/AsyncChannel.cpp',
    'src/AtomicCounter.cpp',
    'src/Base64Decoder.cpp',
    'src/Base64Encoder.cpp',
    'src/BinaryReader.cpp',
    'src/BinaryWriter.cpp',
    'src/Bugcheck.cpp',
    'src/ByteOrder.cpp',
    'src/Channel.cpp',
    'src/Checksum.cpp',
    'src/Condition.cpp',
    'src/Configurable.cpp',
    'src/ConsoleChannel.cpp',
    'src/CountingStream.cpp',
    'src/DateTime.cpp',
    'src/DateTimeFormat.cpp',
    'src/DateTimeFormatter.cpp',
    'src/DateTimeParser.cpp',
    'src/Debugger.cpp',
    'src/DeflatingStream.cpp',
    'src/DigestEngine.cpp',
    'src/DigestStream.cpp',
    'src/DirectoryIterator.cpp',
    'src/DirectoryWatcher.cpp',
    'src/DynamicAny.cpp',
    'src/DynamicAnyHolder.cpp',
    'src/Environment.cpp',
    'src/ErrorHandler.cpp',
    'src/EventArgs.cpp',
    'src/Event.cpp',
    'src/Exception.cpp',
    'src/FileChannel.cpp',
    'src/File.cpp',
    'src/FileStream.cpp',
    'src/FileStreamFactory.cpp',
    'src/Format.cpp',
    'src/Formatter.cpp',
    'src/FormattingChannel.cpp',
    'src/FPEnvironment.cpp',
    'src/Glob.cpp',
    'src/Hash.cpp',
    'src/HashStatistic.cpp',
    'src/HexBinaryDecoder.cpp',
    'src/HexBinaryEncoder.cpp',
    'src/InflatingStream.cpp',
    'src/Latin1Encoding.cpp',
    'src/Latin9Encoding.cpp',
    'src/LineEndingConverter.cpp',
    'src/LocalDateTime.cpp',
    'src/LogFile.cpp',
    'src/Logger.cpp',
    'src/LoggingFactory.cpp',
    'src/LoggingRegistry.cpp',
    'src/LogStream.cpp',
    'src/Manifest.cpp',
    'src/MD4Engine.cpp',
    'src/MD5Engine.cpp',
    'src/MemoryPool.cpp',
    'src/MemoryStream.cpp',
    'src/Message.cpp',
    'src/Mutex.cpp',
    'src/NamedEvent.cpp',
    'src/NamedMutex.cpp',
    'src/NestedDiagnosticContext.cpp',
    'src/NotificationCenter.cpp',
    'src/Notification.cpp',
    'src/NotificationQueue.cpp',
    'src/NullChannel.cpp',
    'src/NullStream.cpp',
    'src/NumberFormatter.cpp',
    'src/NumberParser.cpp',
    'src/Path.cpp',
    'src/PatternFormatter.cpp',
    'src/Pipe.cpp',
    'src/PipeImpl.cpp',
    'src/PipeStream.cpp',
    'src/PriorityNotificationQueue.cpp',
    'src/Process.cpp',
    'src/PurgeStrategy.cpp',
    'src/Random.cpp',
    'src/RandomStream.cpp',
    'src/RefCountedObject.cpp',
    'src/RegularExpression.cpp',
    'src/RotateStrategy.cpp',
    'src/Runnable.cpp',
    'src/RWLock.cpp',
    'src/Semaphore.cpp',
    'src/SHA1Engine.cpp',
    'src/SharedLibrary.cpp',
    'src/SharedMemory.cpp',
    'src/SignalHandler.cpp',
    'src/SimpleFileChannel.cpp',
    'src/SplitterChannel.cpp',
    'src/Stopwatch.cpp',
    'src/StreamChannel.cpp',
    'src/StreamConverter.cpp',
    'src/StreamCopier.cpp',
    'src/StreamTokenizer.cpp',
    'src/String.cpp',
    'src/StringTokenizer.cpp',
    'src/SynchronizedObject.cpp',
    'src/SyslogChannel.cpp',
    'src/Task.cpp',
    'src/TaskManager.cpp',
    'src/TaskNotification.cpp',
    'src/TeeStream.cpp',
    'src/TemporaryFile.cpp',
    'src/TextBufferIterator.cpp',
    'src/TextConverter.cpp',
    'src/TextEncoding.cpp',
    'src/TextIterator.cpp',
    'src/Thread.cpp',
    'src/ThreadLocal.cpp',
    'src/ThreadPool.cpp',
    'src/ThreadTarget.cpp',
    'src/TimedNotificationQueue.cpp',
    'src/Timer.cpp',
    'src/Timespan.cpp',
    'src/Timestamp.cpp',
    'src/Timezone.cpp',
    'src/Token.cpp',
    'src/UnicodeConverter.cpp',
    'src/Unicode.cpp',
    'src/URI.cpp',
    'src/URIStreamFactory.cpp',
    'src/URIStreamOpener.cpp',
    'src/UTF16Encoding.cpp',
    'src/UTF8Encoding.cpp',
    'src/UTF8String.cpp',
    'src/UUID.cpp',
    'src/UUIDGenerator.cpp',
    'src/Void.cpp',
    'src/Windows1252Encoding.cpp',
  ],
  deps = [
    '#dl',
    '#pthread',
    '#rt',
    '//zlib:zlib',
    '//pcre:pcre',
  ]
)

cc_binary(
  name = 'FoundationTestSuite',
  warning = 'no',
  srcs = [
    'testsuite/src/ActiveDispatcherTest.cpp',
    'testsuite/src/ActiveMethodTest.cpp',
    'testsuite/src/ActivityTest.cpp',
    'testsuite/src/AnyTest.cpp',
    'testsuite/src/AutoPtrTest.cpp',
    'testsuite/src/AutoReleasePoolTest.cpp',
    'testsuite/src/Base64Test.cpp',
    'testsuite/src/BasicEventTest.cpp',
    'testsuite/src/BinaryReaderWriterTest.cpp',
    'testsuite/src/ByteOrderTest.cpp',
    'testsuite/src/CacheTestSuite.cpp',
    'testsuite/src/ChannelTest.cpp',
    'testsuite/src/ClassLoaderTest.cpp',
    'testsuite/src/ConditionTest.cpp',
    'testsuite/src/CoreTest.cpp',
    'testsuite/src/CoreTestSuite.cpp',
    'testsuite/src/CountingStreamTest.cpp',
    'testsuite/src/CryptTestSuite.cpp',
    'testsuite/src/DateTimeFormatterTest.cpp',
    'testsuite/src/DateTimeParserTest.cpp',
    'testsuite/src/DateTimeTest.cpp',
    'testsuite/src/DateTimeTestSuite.cpp',
    'testsuite/src/DigestStreamTest.cpp',
    'testsuite/src/DirectoryWatcherTest.cpp',
    'testsuite/src/Driver.cpp',
    'testsuite/src/DummyDelegate.cpp',
    'testsuite/src/DynamicAnyTest.cpp',
    'testsuite/src/DynamicFactoryTest.cpp',
    'testsuite/src/EventTestSuite.cpp',
    'testsuite/src/ExpireCacheTest.cpp',
    'testsuite/src/ExpireLRUCacheTest.cpp',
    'testsuite/src/FIFOEventTest.cpp',
    'testsuite/src/FileChannelTest.cpp',
    'testsuite/src/FileStreamTest.cpp',
    'testsuite/src/FilesystemTestSuite.cpp',
    'testsuite/src/FileTest.cpp',
    'testsuite/src/FormatTest.cpp',
    'testsuite/src/FoundationTestSuite.cpp',
    'testsuite/src/FPETest.cpp',
    'testsuite/src/GlobTest.cpp',
    'testsuite/src/HashingTestSuite.cpp',
    'testsuite/src/HashMapTest.cpp',
    'testsuite/src/HashSetTest.cpp',
    'testsuite/src/HashTableTest.cpp',
    'testsuite/src/HexBinaryTest.cpp',
    'testsuite/src/HMACEngineTest.cpp',
    'testsuite/src/LinearHashTableTest.cpp',
    'testsuite/src/LineEndingConverterTest.cpp',
    'testsuite/src/LocalDateTimeTest.cpp',
    'testsuite/src/LoggerTest.cpp',
    'testsuite/src/LoggingFactoryTest.cpp',
    'testsuite/src/LoggingRegistryTest.cpp',
    'testsuite/src/LoggingTestSuite.cpp',
    'testsuite/src/LogStreamTest.cpp',
    'testsuite/src/LRUCacheTest.cpp',
    'testsuite/src/ManifestTest.cpp',
    'testsuite/src/MD4EngineTest.cpp',
    'testsuite/src/MD5EngineTest.cpp',
    'testsuite/src/MemoryPoolTest.cpp',
    'testsuite/src/MemoryStreamTest.cpp',
    'testsuite/src/NamedEventTest.cpp',
    'testsuite/src/NamedMutexTest.cpp',
    'testsuite/src/NamedTuplesTest.cpp',
    'testsuite/src/NDCTest.cpp',
    'testsuite/src/NotificationCenterTest.cpp',
    'testsuite/src/NotificationQueueTest.cpp',
    'testsuite/src/NotificationsTestSuite.cpp',
    'testsuite/src/NullStreamTest.cpp',
    'testsuite/src/NumberFormatterTest.cpp',
    'testsuite/src/NumberParserTest.cpp',
    'testsuite/src/ObjectPoolTest.cpp',
    'testsuite/src/PathTest.cpp',
    'testsuite/src/PatternFormatterTest.cpp',
    'testsuite/src/PriorityEventTest.cpp',
    'testsuite/src/PriorityNotificationQueueTest.cpp',
    'testsuite/src/ProcessesTestSuite.cpp',
    'testsuite/src/ProcessTest.cpp',
    'testsuite/src/RandomStreamTest.cpp',
    'testsuite/src/RandomTest.cpp',
    'testsuite/src/RegularExpressionTest.cpp',
    'testsuite/src/RWLockTest.cpp',
    'testsuite/src/SemaphoreTest.cpp',
    'testsuite/src/SHA1EngineTest.cpp',
    'testsuite/src/SharedLibraryTest.cpp',
    'testsuite/src/SharedLibraryTestSuite.cpp',
    'testsuite/src/SharedMemoryTest.cpp',
    'testsuite/src/SharedPtrTest.cpp',
    'testsuite/src/SimpleFileChannelTest.cpp',
    'testsuite/src/SimpleHashTableTest.cpp',
    'testsuite/src/StopwatchTest.cpp',
    'testsuite/src/StreamConverterTest.cpp',
    'testsuite/src/StreamCopierTest.cpp',
    'testsuite/src/StreamsTestSuite.cpp',
    'testsuite/src/StreamTokenizerTest.cpp',
    'testsuite/src/StringTest.cpp',
    'testsuite/src/StringTokenizerTest.cpp',
    'testsuite/src/TaskManagerTest.cpp',
    'testsuite/src/TaskTest.cpp',
    'testsuite/src/TaskTestSuite.cpp',
    'testsuite/src/TeeStreamTest.cpp',
    'testsuite/src/TestChannel.cpp',
    'testsuite/src/TestLibrary.cpp',
    'testsuite/src/TestPlugin.cpp',
    'testsuite/src/TextBufferIteratorTest.cpp',
    'testsuite/src/TextConverterTest.cpp',
    'testsuite/src/TextEncodingTest.cpp',
    'testsuite/src/TextIteratorTest.cpp',
    'testsuite/src/TextTestSuite.cpp',
    'testsuite/src/ThreadingTestSuite.cpp',
    'testsuite/src/ThreadLocalTest.cpp',
    'testsuite/src/ThreadPoolTest.cpp',
    'testsuite/src/ThreadTest.cpp',
    'testsuite/src/TimedNotificationQueueTest.cpp',
    'testsuite/src/TimerTest.cpp',
    'testsuite/src/TimespanTest.cpp',
    'testsuite/src/TimestampTest.cpp',
    'testsuite/src/TimezoneTest.cpp',
    'testsuite/src/TuplesTest.cpp',
    'testsuite/src/TypeListTest.cpp',
    'testsuite/src/UnicodeConverterTest.cpp',
    'testsuite/src/UniqueExpireCacheTest.cpp',
    'testsuite/src/UniqueExpireLRUCacheTest.cpp',
    'testsuite/src/URIStreamOpenerTest.cpp',
    'testsuite/src/URITest.cpp',
    'testsuite/src/URITestSuite.cpp',
    'testsuite/src/UTF8StringTest.cpp',
    'testsuite/src/UUIDGeneratorTest.cpp',
    'testsuite/src/UUIDTest.cpp',
    'testsuite/src/UUIDTestSuite.cpp',
    'testsuite/src/ZLibTest.cpp'
  ],
  deps = [
    ':Foundation',
    '//poco/CppUnit:CppUnit'
  ]
)
